(this.webpackJsonpteletest=this.webpackJsonpteletest||[]).push([[0],{24:function(t,e,n){},31:function(t,e,n){"use strict";n.r(e);var r=n(2),c=n.n(r),a=n(12),s=n.n(a),i=(n(24),n(18)),u=n(8),o="GET_CHANNELS",l="GET_PROGRAMS",d="GET_PROGRAMS_REQUESTED",p="GET_CHANNELS_REQUESTED",j=n(4);var b=function(){var t=Object(u.c)((function(t){return[t.channels,t.currentXvid]})),e=Object(i.a)(t,2),n=e[0],c=e[1],a=Object(u.b)();Object(r.useEffect)((function(){a({type:p})}),[]);var s=function(t){t.target.dataset.xvid!==c&&a({type:d,payload:{xvid:t.target.dataset.xvid}})};return Object(j.jsxs)("div",{className:"col-6",children:[Object(j.jsx)("div",{className:"block__title",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0434\u0438\u043d \u0438\u0437 \u043a\u0430\u043d\u0430\u043b\u043e\u0432"}),Object(j.jsx)("ul",{className:"block_list",children:n.map((function(t){return Object(j.jsx)("li",{className:"block_list__item channels ".concat(c===t.xvid?"active":""),onClick:s,"data-xvid":t.xvid,children:t.title},t.chid)}))})]})};var v=function(){var t=Object(u.c)((function(t){return t.programs}));function e(t,e){var n=(new Date).getTime(),r=new Date(t).getTime(),c=1e3*Number(e);return n>r&&n<r+c?"current":n>r&&n>r+c?"past":"future"}return Object(j.jsxs)("div",{className:"col-6",children:[Object(j.jsx)("div",{className:"block__title",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u0435\u0440\u0435\u0434\u0430\u0447"}),t.length?Object(j.jsx)("ul",{className:"block_list programs",children:t.map((function(t){return Object(j.jsxs)("li",{className:"block_list__li "+e(t.start,t.duration),children:[Object(j.jsx)("p",{className:"block_list__date",children:t.start}),Object(j.jsx)("p",{className:"block_list__title",children:t.title})]},t.start)}))}):"\u0412\u044b \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043b\u0438 \u043a\u0430\u043d\u0430\u043b"]})};var f=function(){return Object(j.jsx)("div",{className:"container-fluid",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)(b,{}),Object(j.jsx)(v,{})]})})},O=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,32)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,a=e.getLCP,s=e.getTTFB;n(t),r(t),c(t),a(t),s(t)}))},h=n(11),x=n(10),m=n(19),_=n(6),g=n.n(_),E=n(17),N=n(9),k="https://epg.domru.ru/",w="https://epg.domru.ru/program/";function y(t,e){return{type:l,payload:{programs:t,xvid:e}}}var T=g.a.mark(P),S=g.a.mark(X),C=g.a.mark(A);function D(t){return R.apply(this,arguments)}function R(){return(R=Object(E.a)(g.a.mark((function t(e){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(w,"list?domain=kazan&date_from=2021-08-18&date_to=2021-08-25&xvid=").concat(e));case 2:return n=t.sent,t.next=5,n.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function G(){return L.apply(this,arguments)}function L(){return(L=Object(E.a)(g.a.mark((function t(){var e;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(k,"channel/list?domain=kazan"));case 2:return e=t.sent,t.next=5,e.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function P(t){var e,n;return g.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e=t.payload.xvid,r.next=3,Object(N.a)(D,e);case 3:return n=r.sent,r.next=6,Object(N.b)(y(n[e],e));case 6:case"end":return r.stop()}}),T)}function X(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)(G);case 2:return t=e.sent,e.next=5,Object(N.b)({type:o,payload:t});case 5:case"end":return e.stop()}}),S)}function A(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(N.c)(d,P);case 2:return t.next=4,Object(N.c)(p,X);case 4:case"end":return t.stop()}}),C)}var F=A,M={channels:[],programs:[],currentXvid:null};var I=Object(m.a)(),U=Object(x.c)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case o:return Object(h.a)(Object(h.a)({},t),{},{channels:e.payload});case l:return Object(h.a)(Object(h.a)({},t),{},{programs:e.payload.programs,currentXvid:e.payload.xvid});default:return t}}),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__(Object(x.a)(I)));I.run(F);var z=U;s.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(u.a,{store:z,children:Object(j.jsx)(f,{})})}),document.getElementById("root")),O()}},[[31,1,2]]]);
//# sourceMappingURL=main.cd70b7d4.chunk.js.map